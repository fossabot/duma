
It is now possible to use detours with duma on already compiled binaries.
This document will explain an example working configuration and environment.

Known LImitations
-----------------

 - Stacktrace isn't working right, but you can configure the mapfile
   using the DUMA_OUTPUT_STACKTRACE_MAPFILE env variable.
 - There are some access violations that occur, YMMV


Things you will need:

 1) Detours v1.5, available from Microsoft research as a free download
 2) DebugView from Sysinternals, this allows you to read the debug console
 3) Microsoft Visual Studio 2003 (2005 may work, but not tested)


Conifiguration:

 1) Expand detours into your duma\detours folder
 2) Open Visual Studio 2003 command prompt, browse to duma\detours and
    build detours (nmake)
 3) Open Visual Studio, select "Detours" build (instead of debug or release)
    and build solution
 4) Open duma\win32-msvc.net\detoursexample1 and build
 5) Open command prompt and issue the following:
	set DUMA_OUTPUT_DEBUG=1
	set DUMA_OUTPUT_STDOUT=0
	set DUMA_OUTPUT_STDERR=0
	set DUMA_OUTPUT_STACKTRACE=0
 6) Copy dumadetours.exe, detoursexample1.exe, detoursexample1.map into the 
    dumadetoursdll Detours build folder
 7) Run DebugView
 8) Run "dumadetours detoursexample1.exe"
 9) You should see duma output in the DebugView window.

Report problems and patches for DUMA + Detours to meddington@gmail.com


